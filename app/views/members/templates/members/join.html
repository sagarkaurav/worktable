{% extends 'layouts/layout.html' %}
{% block content %}
<form method="POST" action="{{ url_for('members.join',token=token, org_username=invite.organization.username) }}">
    {{ form.csrf_token}}
    <div class="max-w-lg p-8 mx-auto mt-24 rounded-lg shadow-md bg-gray-50">
        <div class="p-2">
            {% include 'layouts/partials/notifications.html' %}
        </div>
        <div class="grid grid-cols-1 gap-6">
            <label class="block">
                <span class="text-sm text-gray-700">{{ form.first_name.label.name }}</span>
                {% if form.first_name.errors %}
                {{form.first_name(class="block w-full mt-1 border-red-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50", autofocus=true, placeholder="John")}}

                {% for error in form.first_name.errors %}
                <p class="text-xs font-bold text-red-400">{{error}}</p>
                {% endfor %}
                {% else %}
                {{form.first_name(class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50", autofocus=true, placeholder="John")}}
                {% endif %}
            </label>
            <label class="block">
                <span class="text-sm text-gray-700">{{ form.last_name.label.name }}</span>
                {% if form.last_name.errors %}
                {{form.last_name(class="block w-full mt-1 border-red-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50", autofocus=true, placeholder="Doe")}}

                {% for error in form.last_name.errors %}
                <p class="text-xs font-bold text-red-400">{{error}}</p>
                {% endfor %}
                {% else %}
                {{form.last_name(class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50", autofocus=true, placeholder="Doe")}}
                {% endif %}
            </label>
            <label class="block">
                <span class="text-sm text-gray-700">{{ form.password.label.name }}</span>
                {% if form.password.errors %}
                {{form.password(class="block w-full mt-1 border-red-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50", autofocus=true, placeholder="Password")}}

                {% for error in form.password.errors %}
                <p class="text-xs font-bold text-red-400">{{error}}</p>
                {% endfor %}
                {% else %}
                {{form.password(class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50", autofocus=true, placeholder="Password")}}
                {% endif %}
            </label>
            <label class="block">
                <span class="text-sm text-gray-700">{{ form.password_confirm.label.name }}</span>
                {% if form.password_confirm.errors %}
                {{form.password_confirm(class="block w-full mt-1 border-red-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50", autofocus=true, placeholder="Retype password")}}

                {% for error in form.password_confirm.errors %}
                <p class="text-xs font-bold text-red-400">{{error}}</p>
                {% endfor %}
                {% else %}
                {{form.password_confirm(class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50", autofocus=true, placeholder="Retype password")}}
                {% endif %}
            </label>
            <button
                class="px-4 py-2 text-xl font-bold text-white rounded-lg shadow-lg col-span-full hover:bg-blue-gray-500 bg-blue-gray-400">Join the organization</button>
        </div>
    </div>
</form>
{% endblock content %}